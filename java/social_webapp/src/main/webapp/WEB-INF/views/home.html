<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type =  "    css" href="test.css">
    <style>

        @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css");
        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 16px;
            text-decoration: none;

        }


        h2{
            display: inline-block;
            margin: 20px 0;
            color: azure;
        }
        li {
            float: left;
        }

        li a:hover {
            background-color: #111111;
        }

        table{
            background-color: antiquewhite;
            text-align: center;
            font-size: 26px;
            padding: 10px;
        }

        body {
            background-color: black;
            margin: 0px;
        }

        .menu-post{
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        .menu-post{
            display: flex;
            flex-direction: row;
        }
        .button-menu-post{
            height: 30px;
            width: 100%;
            background-color: #111111;
            color: white;
            border-radius: 10px;
        }
        a-of-menu-post{
            color: white;
            text-decoration: none;
        }
        .button-menu-post:hover{
            cursor: pointer;
            color: #111111;
            background-color: white;
        }
        .input-comment{
            width: 587%;
            height: 40px;
            border-radius: 10px;
            margin-left: 0;
            margin-right: auto;
        }
        .input-comment-child{
            width: 587%;
            height: 30px;
            border-radius: 10px;
            margin-left: 0;
            margin-right: auto;
        }

        .button-input-comment{
            height: 46px;
            border-radius: 10px;
            background-color: aqua;
            width: 100%;
        }
        .image-upload>input{
            display: none;
        }
        .image-upload{
            position: absolute;
            right: 10px;
            color: #482121;
        }
        .like-comment{
            height: 30px;
            width: 100%;
            color: white;
            border: 0px;
        }
        .like-comment:hover{
            cursor: pointer;
            color: red;

        }
    </style>

</head>
<body>
<div style="width: 100%">
    <div style="list-style-type: none;
    width: 100%;
    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;
    overflow: hidden;
    background-color: #333333;
    position: fixed;">

        <div>
            <li><a style="font-family:'Courier New';font-size:30px" th:href="@{/}"><b>facebook</b></a></li>
        </div>
        <div>
            <li style="float: right;"><a th:href="@{/login?logout=true}">Logout</a></li>
        </div>

    </div>
    <div style="display: flex;width: 100%;height: 100%;">

        <div style="
            top: 65px;
            width: 280px;
            height: 100%;
            margin-top: 0;
            padding: 7px;
            overflow: hidden;
            background-color: #333333;
            position: fixed;
            display: flex;
            flex-direction: column;">
            <div style="margin-top: 20px;
                margin-bottom: 20px;
                margin-left: 50px;">
                    <a th:href="@{/home}" style="text-decoration: none;
                                                color: white;
                                                text-align: center;
                                                font-size: 25px;
                                               " >Home</a>
            </div>
            <div style="margin-top: 20px;
                        margin-bottom: 20px;
                        margin-left: 50px;">
                    <a th:href="@{/user/home}" style="text-decoration: none;
                                                color: white;
                                                text-align: center;
                                                font-size: 25px;
                                                ">Account</a>
            </div>
            <div style="margin-top: 20px;
                margin-bottom: 20px;
                margin-left: 50px;">
                    <a th:href="@{/group/home}" style="text-decoration: none;
                                                color: white;
                                                text-align: center;
                                                font-size: 25px;
                                                ">Group</a>
            </div>
        </div>

        <div style="
            height: 100%;
            margin-top: 70px;
            margin-left: 300px;
            overflow: hidden;
            background-color: dimgrey;
            margin-right: 0.5%;
            padding-right: 0;
            width: 100%;">
            <div th:each="post:${posts}" style="background-color: black;" >
<!--                <div th:if="${post?.post}">-->

<!--&lt;!&ndash;                    //share&ndash;&gt;-->

<!--&lt;!&ndash;                    <div style="display: flex; flex-direction: column">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div style="display: flex; flex-direction: column">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div style="display: flex; flex-direction: row">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div>profile picture</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div>name</div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div>&ndash;&gt;-->
<!--&lt;!&ndash;                                content&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        <div style="margin-left: 10%"> share </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->

<!--&lt;!&ndash;                    // chieu lam tiep&ndash;&gt;-->

<!--                    <div style="display: flex; flex-direction: column">-->
<!--                        <div style="display: flex;" >-->
<!--                            <div style="width: 80px;-->
<!--                                    height: 80px;">-->
<!--                                <img th:src="${post.post.user.profilePicture}" style="border-radius: 50%;width: 100%;height: 100%;">-->
<!--                            </div>-->
<!--                            <div style="display: flex;flex-direction: column;    width: 90%;">-->
<!--                                <div style="display: flex; height: 65px">-->
<!--                                    <div>-->
<!--                                        <h2 th:text = "${post.post.user.name}" style="font-size: 25px; margin-top: 15px; margin-bottom: 0"></h2>-->
<!--                                    </div>-->
<!--                                    <div th:if = "${post?.post?.userGroup?.group?.name}" style="-->
<!--                                                                                font-size: 16px;-->
<!--                                                                                margin-top: 9px;-->
<!--                                                                                padding-left: 10px;-->
<!--                                                                                display: flex;">-->
<!--                                        <div><p style="padding-bottom: 15px">shared a status of group:</p></div>-->
<!--                                        <div><p th:text="${post?.post?.userGroup?.group?.name}"></p></div>-->

<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div style="margin-top: 0; margin-bottom: 0">-->
<!--                                    <p th:unless = "${post.post.updateAt}" style="font-size: 13px;margin-top: 0; margin-bottom: 0">Create At: <i th:text = "${post.post.createdAt}"></i></p>-->
<!--                                    <p th:if = "${post.post.updateAt}" style="font-size: 13px;margin-top: 0; margin-bottom: 0">Update At:<i th:text = "${post.post.updateAt}"></i></p>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div> setting</div>-->
<!--                        </div>-->
<!--                        <div th:if="${post.post.content}">-->
<!--                            <h3 th:text = "${post.post.content}" style="padding-left: 20px"></h3>-->
<!--                        </div>-->
<!--                        <div th:if="${post.post.pictures}">-->
<!--                            <div th:each="picture:${post.post.pictures}" style="display:inline-block;width: 100%">-->
<!--                                <img th:src="${picture.url}" style="width: 100%; display:inline-block">-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div style="display: flex; color: white">-->
<!--                            <div style="width: 30%;padding-left: 30px">-->
<!--                                <div>-->
<!--                                    <i class="bi bi-heart"></i>-->
<!--                                    <span th:text="${post.post.sumLike}"></span>-->
<!--                                </div>-->
<!--                                &lt;!&ndash;                            <div th:each="likePost: ${post.likePosts}">&ndash;&gt;-->
<!--                                &lt;!&ndash;                                <div th:if = "${#lists.contains(likePost.active, true)}">&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <img th:src="${likePost.profilePicture}" style="width: 10%">&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <p th:text ="${likePost.userName}"></p>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                </div>&ndash;&gt;-->

<!--                                &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--                            </div>-->
<!--                            <div style="width: 40%; padding-left: 100px">-->
<!--                                <i class="bi bi-chat-left-dots"></i>-->
<!--                                <span th:text = "${post.post.sumComment}"></span>-->
<!--                            </div>-->
<!--                            <div style="width: 30%; padding-left: 100px;">-->
<!--                                <i class="bi bi-share"></i>-->
<!--                                <span th:text = "${post.post.sumShare}"></span>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <br/>-->
<!--                    </div>-->




<!--                    //share-->
<!--                </div>-->
                <div style="display: flex; flex-direction: column">
                        <div style="display: flex;" >
                            <div style="width: 80px;
                                    height: 80px;">
                                <img th:src="${post.user.profilePicture}" style="border-radius: 50%;width: 100%;height: 100%;">
                            </div>
                            <div style="display: flex;flex-direction: column;    width: 90%;">
                                <div style="display: flex; height: 65px">
                                    <div>
                                        <h2 th:text = "${post.user.name}" style="font-size: 25px; margin-top: 15px; margin-bottom: 0"></h2>
                                    </div>
                                    <div th:if = "${post?.userGroup?.group?.name}" style="
                                                                                font-size: 16px;
                                                                                margin-top: 9px;
                                                                                padding-left: 10px;
                                                                                display: flex;">
                                        <div><p style="padding-bottom: 15px">shared a status of group:</p></div>
                                        <div><p th:text="${post?.userGroup?.group?.name}"></p></div>

                                    </div>
                                </div>
                                <div style="margin-top: 0; margin-bottom: 0">
                                    <p th:unless = "${post.updateAt}" style="font-size: 13px;margin-top: 0; margin-bottom: 0">Create At: <i th:text = "${post.createdAt}"></i></p>
                                    <p th:if = "${post.updateAt}" style="font-size: 13px;margin-top: 0; margin-bottom: 0">Update At:<i th:text = "${post.updateAt}"></i></p>
                                </div>
                            </div>
                            <div> setting</div>
                        </div>
                        <div th:if="${post.content}">
                            <h3 th:text = "${post.content}" style="padding-left: 20px"></h3>
                        </div>
                        <div th:if="${post.pictures}">
                            <div th:each="picture:${post.pictures}" style="display:inline-block;width: 100%">
                                <img th:src="${picture.url}" style="width: 100%; display:inline-block">
                            </div>
                        </div>
                        <div style="display: flex; color: white">
                            <div style="width: 30%;padding-left: 30px">
                                <div>
                                    <i class="bi bi-heart"></i>
                                    <span th:text="${post.sumLike}"></span>
                                </div>
                                <!--                            <div th:each="likePost: ${post.likePosts}">-->
                                <!--                                <div th:if = "${#lists.contains(likePost.active, true)}">-->
                                <!--                                    <img th:src="${likePost.profilePicture}" style="width: 10%">-->
                                <!--                                    <p th:text ="${likePost.userName}"></p>-->
                                <!--                                </div>-->

                                <!--                            </div>-->
                            </div>
                            <div style="width: 40%; padding-left: 100px">
                                <i class="bi bi-chat-left-dots"></i>
                                <span th:text = "${post.sumComment}"></span>
                            </div>
                            <div style="width: 30%; padding-left: 100px;">
                                <i class="bi bi-share"></i>
                                <span th:text = "${post.sumShare}"></span>
                            </div>
                        </div>
                        <div class="component-bottom" style="background-color: #111111; color: white">
                            <div class="menu-post">
                                <div style="width: 30%;">
                                    <form th:action="@{/like}" method="POST">
                                        <input type="hidden" id = "userName" th:value="${getName}" name="userName" >
                                        <input type="hidden" id = "postCode" th:value="${post.code}" name="postCode" >
                                        <input type="hidden" id= "isActive" name="isActive" value="isActive">
                                        <button class="button-menu-post" type="submit">
                                            <i class="bi bi-heart" style="color: red"></i>
                                            Like
                                        </button>
                                    </form>
                                </div>
                                <div style="width: 40%">
                                    <button class="button-menu-post">
                                        <i class="bi bi-chat-left-dots"></i>
                                        <a th:href="@{/comment/getComment}" style=" text-decoration: none;
                                                                            color: white;">Comment</a>
                                    </button>
                                    <!--                                <a th:href="@{/comment/create-a-comment/{userName}/{postCode}(userName = ${getName},postCode = ${post.code})}">Comment</a>-->
                                    <!--                        <include asdjasdads>?</include>-->
                                </div>
                                <div style="width: 30%">
                                    <form th:action="@{/post/share}" method="POST">
                                        <input type="hidden" id = "userName5" th:value="${getName}" name="userName" >
                                        <input type="hidden" id = "postCode5" th:value="${post.code}" name="postCode" >
                                        <button class="button-menu-post" type="submit">
                                            <i class="bi bi-share"></i>
                                            Share
                                        </button>
                                    </form>
                                </div>

                            </div>
                            <div style="display: flex; flex-direction: row;">
                                <div style="width: 50px; height: 50px">
                                    <img th:src="${post.user.profilePicture}" style="border-radius: 50%;width: 100%;height: 100%;">
                                </div>
                                <div style="display: flex;
                                        width: 96%;
                                        justify-content: space-between;">

                                    <form th:action="@{/comment/create-a-comment}" method="POST" enctype="multipart/form-data" >
                                        <input type="hidden" id = "userName2" th:value="${getName}" name="userName">

                                        <input type="hidden" id = "postCode2" th:value="${post.code}" name="postCode">
                                        <div style="display: flex; width: 470%">
                                            <div style="display: flex;
                                                    flex-direction: row;
                                                    width: 90%;
                                                    position: relative;">
                                                <input type="text" id = "content" name="content" placeholder="write a comment..." class="input-comment" >

                                                <div class="image-upload">
                                                    <label for="file-input">
                                                        <i class="bi bi-upload" style="font-size: 250%;"></i>
                                                    </label>
                                                    <input type="file" id="file-input" name="file">
                                                </div>
                                            </div>
                                            <div style="margin: 0px;
                                                    width: 10%;">
                                                <button type="submit" class="button-input-comment" >Comment</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br/>
                            <div th:if = "${post.comments}">
                                <div th:each="comment:${post.comments}" style="display: flex; flex-direction: column" >
                                    <div th:unless = "${comment.parentCommentCode}">
                                        <div style="height: 50px; width: 50px">
                                            <img th:src="${comment.picture}" style="width: 100%;height: 100%; border-radius: 50%" >
                                        </div>
                                        <div style="display: flex;flex-direction: column">
                                            <div><b><h2 th:text = "${comment.userEmail}" style="font-size: 16px; padding-left: 10px; margin-top: 0; margin-bottom: 10px"></h2></b></div>
                                            <div><i style="color: white; font-size: 14px; padding-left: 20px; margin-top: 0">
                                                "<h2 th:text ="${comment.content}" style="color: white; font-size: 20px;margin: 0"></h2>"
                                            </i></div>
                                            <div style="width: 30%; height: 30%" th:if="${comment.pictureComment}">
                                                <img th:src="${comment.pictureComment}" style="width: 100%;height: 100%;" >
                                            </div>
                                            <div style="display: flex">
                                                <div style="width: 200px; text-align: left">
                                                    <form th:action="@{/like/comment}" method="POST">
                                                        <input type="hidden" id = "userName3" th:value="${getName}" name="userName" >
                                                        <input type="hidden" id = "postCode3" th:value="${post.code}" name="postCode" >
                                                        <input type="hidden" id = "commentCode" th:value="${comment.code}" name="commentCode">
                                                        <input type="hidden" id= "isActive3" name="isActive" value="isActive">
                                                        <p class="like-comment" >
                                                            <button type="submit" style="background-color: #111111;
                                                                         border: none;
                                                                         color: white;">
                                                                <i th:text = "${comment.sumLikeComment}"></i>
                                                                <i class="bi bi-heart"></i>
                                                            </button>
                                                        </p>
                                                    </form>
                                                </div>
                                                <div>
                                                    <p th:unless = "${comment.updateAt}" style="font-size: 14px">
                                                        Create At: <i th:text = "${comment.createAt}"></i>
                                                    </p>
                                                </div>
                                                <div>
                                                    <p th:if = "${comment.updateAt}">
                                                        Update At: <i th:text = "${comment.updateAt}"></i>
                                                    </p>
                                                </div>



                                            </div>
                                        </div>
                                        <div style="display: flex; flex-direction: column">
                                            <div style="width: 200px; text-align: center; margin-left: 50px;">
                                                <div style="display: flex;
                                        width: 96%;
                                        justify-content: space-between;">

                                                    <form th:action="@{/comment/create-a-comment-child}" method="POST" enctype="multipart/form-data" >
                                                        <input type="hidden" id = "userName4" th:value="${getName}" name="userName">

                                                        <input type="hidden" id = "postCode4" th:value="${post.code}" name="postCode">

                                                        <input type="hidden" id="parentCommentCode" th:value="${comment.code}" name="parentCommentCode">
                                                        <div style="display: flex;     width: 250%;">
                                                            <div style="display: flex;
                                                    flex-direction: row;
                                                    width: 90%;
                                                    position: relative;">
                                                                <input type="text" id = "content2" name="content" placeholder="Reply to comment..." class="input-comment-child" >

                                                                <div class="image-upload">
                                                                    <label for="file-input2">
                                                                        <i class="bi bi-upload" style="font-size: 200%;"></i>
                                                                    </label>
                                                                    <input type="file" id="file-input2" name="file">
                                                                </div>
                                                            </div>
                                                            <div style="margin: 0px;
                                                                width: 20%;">
                                                                <button type="submit" class="button-input-comment" style="height: 37px !important;" >Comment</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                        </div>
                                        <div th:text ="${comment.parentCommentCode}"></div>
                                    </div>
                                    <div style="display: flex; flex-direction: column;">
                                        <div style="display: flex; flex-direction: column; margin-left: 3%" th:if = "${comment.commentPosts}">
                                            <div th:each="commentChild:${comment.commentPosts}">

                                                <div th:if = "${#lists.contains(commentChild.parentCommentCode, comment.code)}" style="display: flex; flex-direction: row;">
                                                    <div style="width: 50px;
                                                        height: 50px;
                                                        text-align: left;">
                                                        <img th:src="${commentChild.picture}" style="width: 100%;height: 100%; border-radius: 50%;" >
                                                    </div>
                                                    <div style="display: flex;
                                                        flex-direction: column;
                                                        width: 30%;">
                                                        <div style="display: flex;
                                                            flex-wrap: nowrap;
                                                            justify-content: flex-start;
                                                            width: 100%;
                                                            height: 69px;
                                                            align-items: center;">
                                                            <div th:text = "${commentChild.userEmail}" style="width: 29%;"></div>

                                                            <div th:text = "${commentChild.content}"></div>

                                                        </div>

                                                        <div th:if="${commentChild?.pictureComment}" style="width: 50%; height: 50%">
                                                            <img th:src="${commentChild.pictureComment}" style="width:100%;height: 100%;" >
                                                        </div>
                                                    </div>
                                                </div>


                                            </div>






                                        </div>
                                        <div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                            <br/><br/>
                        </div>
                        <div align="center">-------------------------------</div>
                        <br/>
                    </div>


            </div>

        </div>

        <div style="    height: 100%;
                    margin-top: 70px;
                    margin-left: 0;
                    padding-right: 0;
                    background-color: #333333;
                    margin-right: 0;
                    width: 30%;
                    color: white;">
            <p style="text-align: center; font-size: 30px">List User</p>
            <div th:if="${users}">
                <div th:each="userr:${users}">
                    <div th:unless="${#lists.contains(userr.email, user.email)}" style="display: flex; justify-content: space-between;align-items: center;">
                        <div style="width: 40px; height: 40px">
                            <img th:src="${userr.profilePicture}" style="width: 100%;height: 100%; border-radius: 50%;" >
                        </div>
                        <div>
                            <p th:text = "${userr.name}" style="font-size: 20px"></p>
                        </div>
<!--                        <div>${friends}</div>-->
                        <div>
                            <div>
                                <div>
                                    <form th:action="@{/add-friend}" method="POST">
                                        <input type="hidden" id = "userEmail1"  name="userEmail1" th:value="${userr.email}">
                                        <input type="hidden" id = "userEmail2"  name="userEmail2" th:value="${user.email}">
                                        <button type="submit" style="float: right; border-radius: 10px; background-color: cornflowerblue; color: white; border: solid white">Friend</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
</body>
</html>